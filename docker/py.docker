FROM python:3.7.3-alpine

RUN wget https://github.com/watchexec/watchexec/releases/download/1.10.1/watchexec-1.10.1-x86_64-unknown-linux-musl.tar.gz
RUN tar -xvf watchexec-1.10.1-x86_64-unknown-linux-musl.tar.gz watchexec-1.10.1-x86_64-unknown-linux-musl
RUN mv watchexec-1.10.1-x86_64-unknown-linux-musl/watchexec /usr/local/bin

RUN mkdir /work
WORKDIR /work

ENV PYTHONUNBUFFERED 1

COPY requirements.txt ./
RUN pip install -r requirements.txt --no-deps
